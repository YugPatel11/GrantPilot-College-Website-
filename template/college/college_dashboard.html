{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PP Savani University - SSIP</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&family=Raleway:wght@600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/student/dashboard.css">
</head>

<body>
    <header>
        <div class="header-left">
            <img class="logo" src="{% static 'Images/Logo/ppsu.png' %}" alt="P P Savani University Logo">


            {% static 'Images/Logo/ssip.png' %}
            <img class="logo" src="{% static 'Images/Logo/1.png' %}" alt="University Logo">
            <img class="logo" src="{% static 'Images/Logo/ebc.png' %}" alt="EBC Logo">
            <img class="logo" src="{% static 'Images/Logo/ssip.png' %}" alt="SSIP Logo">
        </div>

        <button class="nav-toggle" aria-label="Toggle navigation">
            <i class="fas fa-bars"></i>
        </button>

        <nav class="nav-links">
            <a href="#about_ssip">About</a>
            <a href="#projects">Projects</a>
            <a href="#ssip_coordinators">SSIP Coordinators</a>
            <a href="#contact">Contact</a>
            <form id="logoutForm" action="{% url 'logout' %}" method="post">
                {% csrf_token %}
                <button type="submit" class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </form>
        </nav>
    </header>

    <section class="video-section" data-aos="zoom-in-left">
        <video autoplay muted loop playsinline class="video-background">
            <source src="{% static 'Hero_video.mp4' %}" type="video/mp4">
            Your browser does not support HTML5 video.
        </video>

        <div class="video-content">
            <h2>SSIP @ P P Savani University</h2>
            <p>Empowering Innovation and Startups. Driving entrepreneurial spirit through mentorship, incubation,
                funding
                assistance, and dynamic support for emerging innovators and changemakers.</p>
        </div>
    </section>


    <section class="dashboard-section section-spacing">
        <div class="container">
            <div class="slideshow-container">

                <h2 class="dashboard-page-heading">Startup culture at P P Savani University</h2>
                <div class="mySlides fade">
                    <img src="/static/Images/Event/1.JPG" alt="Student Interaction Session">
                    <div class="text">Student Interaction Session</div>
                </div>

                <div class="mySlides fade">
                    <img src="/static/Images/Event/2.JPG" alt="Workshop on Entrepreneurship">
                    <div class="text">Workshop on Entrepreneurship</div>
                </div>

                <div class="mySlides fade">
                    <img src="/static/Images/Event/3.jpg" alt="Idea Pitching Competition">
                    <div class="text">Idea Pitching Competition</div>
                </div>

                <div class="mySlides fade">
                    <img src="/static/Images/Event/4.jpg" alt="Idea Pitching Competition">
                    <div class="text">Idea Pitching Competition</div>
                </div>

                <div class="mySlides fade">
                    <img src="/static/Images/Event/5.jpg" alt="Idea Pitching Competition">
                    <div class="text">Idea Pitching Competition</div>
                </div>

                <div class="mySlides fade">
                    <img src="/static/Images/Event/6.jpg" alt="Idea Pitching Competition">
                    <div class="text">Idea Pitching Competition</div>
                </div>

                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>
            <div class="dot-container">
                <span class="dot" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
                <span class="dot" onclick="currentSlide(3)"></span>
                <span class="dot" onclick="currentSlide(4)"></span>
                <span class="dot" onclick="currentSlide(5)"></span>
                <span class="dot" onclick="currentSlide(6)"></span>
            </div>

<div id="grant-totals-section">
    <div class="card" data-aos="fade-up">
        <div class="card-body">
            <h5 class="card-title">Total Approved Grant Given</h5>
            <h2 class="card-text">₹<span id="approvedGrantAmount">{{ total_approved_grant_amount|default:0 }}</span></h2>
        </div>
    </div>
    <div class="card" data-aos="fade-up">
        <div class="card-body">
            <h5 class="card-title">Total Requested Grant</h5>
            <h2 class="card-text">₹<span id="requestedGrantAmount">{{ total_requested_grant_amount|default:0 }}</span></h2>
        </div>
    </div>
</div>

<div id="project-status-section">
    <div class="card" data-aos="fade-up">
        <div class="card-body">
            <h5 class="card-title">Total Applied Projects</h5>
            <h2 class="card-text total"><span id="appliedProjectsCount">{{ total_applied_projects|default:0 }}</span></h2>
        </div>
    </div>
    <div class="card" data-aos="fade-up">
        <div class="card-body">
            <h5 class="card-title">Total Approved Projects</h5>
            <h2 class="card-text approved"><span id="approvedProjectsCount">{{ total_approved_projects|default:0 }}</span></h2>
        </div>
    </div>
    <div class="card" data-aos="fade-up">
        <div class="card-body">
            <h5 class="card-title">Total Rejected Projects</h5>
            <h2 class="card-text rejected"><span id="rejectedProjectsCount">{{ total_rejected_projects|default:0 }}</span></h2>
        </div>
    </div>
</div>



            <h2 id="projects" data-aos="fade-up" class="dashboard-page-heading">All Projects that Have Received Grants
            </h2>
            {% if projects %}
            <div class="dashboard-project-grid" data-aos="fade-up">
                {% for project in projects %}
                <div class="dashboard-project-card"
                    onclick="window.location.href='{% url 'personal_project_details' project.id %}'">
                    <div>
                        <h3><i class="fas fa-folder-open"></i> {{ project.title }}</h3>
                        <p class="driving_question"><strong>Driving Question:</strong> {{ project.driving_question|default:"N/A" }}</p>
                        <p><strong>Grant Amount:</strong> Rs {{ project.approved_grant_amount|default_if_none:"—" }}</p>
                        {% if project.grant and project.grant != project.approved_grant_amount %}
                        <p><strong>Additional Grant:</strong> Rs {{ project.grant }}</p>
                        {% endif %}
                    </div>
                    <div class="dashboard-card-actions">
                        <a href="{% url 'edit_project' project.id %}" class="dashboard-edit-btn"
                            onclick="event.stopPropagation();">Edit</a>
                        <form action="{% url 'delete_project' project.id %}" method="post"
                            onsubmit="return confirm('Are you sure you want to delete this project?');"
                            style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="dashboard-delete-btn"
                                onclick="event.stopPropagation();">Delete</button>
                        </form>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p style="text-align: center; font-size: 1.2rem; color: #777; padding: 20px 0;">No projects have received
                grants yet. Stay tuned!</p>
            {% endif %}

            <div class="dashboard-cta-buttons" data-aos="fade-up">
                <a href="{% url 'student_requests' %}" class="dashboard-cta-btn"><i class="fas fa-user-graduate"></i>
                    Student
                    Requests</a>
                <a href="{% url 'add_project' %}" class="dashboard-cta-btn"><i class="fas fa-plus"></i> Add Project</a>
            </div>
        </div>
    </section>

    <section class="dashboard-section section-spacing" id="about_ssip">
        <div class="container">
            <h2 class="dashboard-page-heading" data-aos="fade-up">About SSIP</h2>
            <div class="dashboard-about-ssip-grid">
                <div class="dashboard-about-ssip-text" data-aos="fade-right">
                    <h1>SSIP at P P Savani University</h1>
                    <p>
                        The Student Startup and Innovation Policy (SSIP) at P P Savani University helps students and
                        researchers turn
                        their creative ideas into real projects and start-ups. It encourages innovation and supports
                        young minds to
                        think differently, solve problems, and build something useful for society.
                    </p>

                    <p>
                        SSIP gives students a chance to work on new and unique ideas. These ideas should be practical,
                        creative, and
                        useful. If you have a project or solution that can make a difference, SSIP is here to help you
                        make it happen.
                    </p>

                    <p>
                        One of the biggest benefits of SSIP is financial help. You can get up to ₹2.5 lakhs for building
                        your
                        prototype or working model. If your idea needs protection through patents or copyright, you can
                        also get up to
                        ₹75,000 for IPR (Intellectual Property Rights) support.
                    </p>

                    <p>
                        SSIP also connects you with industry experts and mentors who guide you in improving your idea,
                        building your
                        product, and understanding the market. You will also get to learn about entrepreneurship and how
                        start-ups
                        work, which will help you in your future career.
                    </p>

                    <p>
                        At P P Savani University, we believe in supporting young innovators. Through SSIP, we aim to
                        create an
                        environment where students can confidently share their ideas and grow into future entrepreneurs
                        and leaders.
                    </p>
                    </p>
                </div>
                <div class="about-ssip-highlights" data-aos="fade-left">
                    <div class="highlight-item">
                        <i class="fas fa-lightbulb"></i>
                        <span>Encourages innovation and supports young minds.</span>
                    </div>
                    <div class="highlight-item">
                        <i class="fas fa-hand-holding-usd"></i>
                        <span>Financial help up to **₹2.5 lakhs** for prototyping and working models.</span>
                    </div>
                    <div class="highlight-item">
                        <i class="fas fa-copyright"></i>
                        <span>IPR (Intellectual Property Rights) support up to **₹75,000**.</span>
                    </div>
                    <div class="highlight-item">
                        <i class="fas fa-users-rays"></i>
                        <span>Connects with **industry experts** and mentors.</span>
                    </div>
                    <div class="highlight-item">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Fosters future **entrepreneurs and leaders**.</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="dashboard-section section-spacing" id="ssip_coordinators">
        <div class="container">
            <h2 data-aos="fade-up" class="dashboard-page-heading">Our SSIP Coordinators</h2>

            
            <div class="dashboard-coordinators-top">
                <div data-aos="fade-right">
                    <div class="coordinator-card">
                        <img src="/static/Images/coordinators/Bindesh_patel2.png" alt="Dr. Bindesh Patel">
                        <h3>Dr. Bindesh Patel</h3>
                        <p>Dr. Bindesh Patel <br> Deputy Registrar</p>
                    </div>
                </div>
                <div data-aos="fade-left">
                    <div class="coordinator-card">
                        <img src="/static/Images/coordinators/Chirag_desai3.png" alt="Mr. Chirag Desai">
                        <h3>Mr. Chirag Desai</h3>
                        <p>Mr. Chirag Desai<br> School of Engineering</p>
                    </div>
                </div>
            </div>

            <div data-aos="fade-up" class="dashboard-coordinators-grid" w3-animate-zoom>
                <div class="coordinator-card">
                    <img src="/static/Images/coordinators/Amit_sharma2.png" alt="Dr. Amit Sharma">
                    <h3>Dr. Amit Sharma</h3>
                    <p>Dr. Amit Sharma <br> School of Engineering</p>
                </div>
                <div class="coordinator-card">
                    <img src="/static/Images/coordinators/Ashutosh_kumar2.png" alt="Dr. Ashutosh Kumar">
                    <h3>Dr. Ashutosh Kumar</h3>
                    <p>Dr. Ashutosh Kumar <br> School of Science</p>
                </div>
                <div class="coordinator-card">
                    <img src="/static/Images/coordinators/Balraj_tudu2.png" alt="Dr. Balraj Tudu">
                    <h3>Dr. Balraj Tudu</h3>
                    <p>Dr. Balraj Tudu <br> School of Engineering</p>
                </div>
                <div class="coordinator-card">
                    <img src="/static/Images/coordinators/Chirag_khambhu.png" alt="Dr. Chirag Khambhu">
                    <h3>Dr. Chirag Khambhu</h3>
                    <p>Dr. Chirag Khambhu <br> School of Agriculture</p>
                </div>
                <div class="coordinator-card">
                    <img src="/static/Images/coordinators/Mona_patel2.png" alt="Dr. Mona G Patel">
                    <h3>Dr. Mona G Patel</h3>
                    <p>Dr. Mona G Patel <br> School of Physiotherapy</p>
                </div>
                <div class="coordinator-card">
                    <img src="/static/Images/coordinators/Nehal_suthar.png" alt="Dr. Nehal Suthar">
                    <h3>Dr. Nehal Suthar</h3>
                    <p>Dr. Nehal Suthar <br> School of Homeopathy</p>
                </div>
                <div class="coordinator-card">
                    <img src="/static/Images/coordinators/Riddhish_joshi.png" alt="Dr. Riddhish Joshi">
                    <h3>Dr. Riddhish Joshi</h3>
                    <p>Dr. Riddhish Joshi <br> School of Management</p>
                </div>
                <div class="coordinator-card">
                    <img src="/static/Images/coordinators/Riya_sukla.png" alt="Mrs. Riya Sukla">
                    <h3>Mrs. Riya Sukla</h3>
                    <p>Mrs. Riya Sukla <br> School of Nursing</p>
                </div>
                <div class="coordinator-card">
                    <img src="/static/Images/coordinators/Swati_deo.png" alt="Prof. Swati Deo">
                    <h3>Prof. Swati Deo</h3>
                    <p>Prof. Swati Deo <br> School of Agriculture</p>
                </div>
                <div class="coordinator-card">
                    <img src="/static/Images/coordinators/Vimal_patel.png" alt="Dr. Vimal Patel">
                    <h3>Dr. Vimal Patel</h3>
                    <p>Dr. Vimal Patel <br> School of Pharmacy</p>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact">
        <div class="container">
            <p>&copy; 2025 P P Savani University. All rights reserved.</p>
            <p>SSIP | P P Savani University, Gujarat | PP Savani university entrepreneurs Business Club (EBC)</p>
            <div class="social-icons">

                <a href="https://chat.whatsapp.com/ISL1fpgy4OGC8ISPSS26N0" aria-label="Whatsapp"><i
                        class="fab fa-whatsapp"></i></a>
                <a href="https://www.linkedin.com/company/ppsu-ebc/posts/?feedView=all" aria-label="LinkedIn"><i
                        class="fab fa-linkedin-in"></i></a>
                <a href="https://www.instagram.com/ppsu_ebc/" aria-label="Instagram"><i
                        class="fab fa-instagram"></i></a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script>
        // AOS Initialization
        AOS.init({ duration: 1000, once: false }); // 'once: true' makes animations run only once per element

        // Header Sticky Effect
        window.addEventListener('scroll', function () {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Mobile Navigation Toggle
        const navToggle = document.querySelector('.nav-toggle');
        const navLinks = document.querySelector('.nav-links');

        navToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });

        // Smooth Scroll for Navigation Links (and close mobile menu)
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                // Close mobile menu if open
                if (navLinks.classList.contains('active')) {
                    navLinks.classList.remove('active');
                }
                // Scroll to section
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Logout Button Functionality (retained original logic)
        document.getElementById('logoutBtn').addEventListener('click', function () {
            if (confirm('Are you sure you want to log out?')) {
                document.getElementById('logoutForm').submit();
            }
        });

        // Slideshow Logic (enhanced for full manual/auto control)
        let slideIndex = 1; // Tracks current slide
        let slideTimer; // Holds the timeout ID for auto-advance

        function showSlides(n) {
            let i;
            let slides = document.getElementsByClassName("mySlides");
            let dots = document.getElementsByClassName("dot");

            // Handle slide index for auto-advance or manual click
            if (n === undefined) { // If called without argument, it's auto-advance
                slideIndex++;
            } else { // If called with argument (from dot/arrow click)
                slideIndex = n;
            }

            // Loop back to start/end if out of bounds
            if (slideIndex > slides.length) { slideIndex = 1 }
            if (slideIndex < 1) { slideIndex = slides.length }

            // Hide all slides
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            // Deactivate all dots
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active-dot", "");
            }

            // Display current slide and activate corresponding dot
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active-dot";

            // Reset the auto-advance timer whenever a slide is shown (manual or auto)
            clearTimeout(slideTimer);
            slideTimer = setTimeout(showSlides, 4500); // Change image every 5 seconds
        }

        // Next/previous controls (called by arrow clicks)
        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        // Thumbnail image controls (called by dot clicks)
        function currentSlide(n) {
            showSlides(slideIndex = n);
        }

        // Initial call to start the slideshow on page load
        showSlides();

function animateNumber(elementId, start, end, duration) {
    let current = start;
    const range = end - start;
    const step = (range / duration) * 10;
    const timer = setInterval(() => {
        current += step;
        if (current >= end) {
            // When the animation is complete, set the final number and format it
            document.getElementById(elementId).textContent = Math.floor(end).toLocaleString('en-IN');
            clearInterval(timer);
        } else {
            // During the animation, format each step of the number
            document.getElementById(elementId).textContent = Math.floor(current).toLocaleString('en-IN');
        }
    }, 10);
}

// A flag to ensure the animation only plays once per page load
let hasAnimated = false;

// The element to observe
const sectionToObserve = document.getElementById('grant-totals-section');

// Create a new Intersection Observer
const observer = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
        // Check if the element is visible and the animation hasn't run yet
        if (entry.isIntersecting && !hasAnimated) {
            const approvedAmount = parseFloat("{{ total_approved_grant_amount|default:0 }}");
            const requestedAmount = parseFloat("{{ total_requested_grant_amount|default:0 }}");

            // Start the animations
            animateNumber('approvedGrantAmount', 0, approvedAmount, 1500);
            animateNumber('requestedGrantAmount', 0, requestedAmount, 1500);

            // Set the flag to true to prevent future animations on the same page load
            hasAnimated = false;

            // Disconnect the observer after the animation is triggered
            observer.disconnect();
        }
    });
}, { threshold: 1 }); // Animation will trigger when 50% of the section is visible

// Start observing the section
observer.observe(sectionToObserve);
    </script>
</body>

</html>